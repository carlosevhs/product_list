{% extends "base.html" %}

{% block content %}
<div class="mt-4">
    <div class="header">
        <h1>Lista de Produtos</h1>
        <a href="{{ url_for('add_product') }}" class="btn btn-primary mb-4">Adicionar Produto</a>
    </div>

    <table class="table table-striped">
        <thead>
            <tr>
                <th></th>
                <th>Produto</th>
                <th class="text-center">Valor (R$)</th>
                <th></th>
            </tr>
        </thead>
        <tbody>
            {% for product in products %}
            <tr>
                <td>
                    <span class="status-dot {{ 'available' if product.available else 'unavailable' }}"></span>
                </td>
                <td>{{ product.name }}</td>
                <td class="text-center">{{ product.value }}</td>
                <td class="text-right">
                <a href="{{ url_for('edit_product', product_id=product.id) }}" class="btn btn-secondary btn-sm"> Editar </a>
                <a href="{{ url_for('delete_product', product_id=product.id) }}" class="btn btn-danger btn-sm"> Excluir </a>
                </td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
</div>

<style>
.header{
    display: flex;
    justify-content: space-between;
    margin-bottom: 30px;
}
.text-center{
    text-align: center;
}
.status-dot {
    height: 10px;
    width: 10px;
    border-radius: 50%;
    display: inline-block;
    margin-right: 10px;
}
.available {
    background-color: green;
}
.unavailable {
    background-color: red;
}
.text-right{
    text-align: right;
}
</style>

{% endblock %}
